<h1 mat-dialog-title>{{ data?.title }}</h1>

<div mat-dialog-content>
  <mat-table
    *ngIf="this.dataSource.data"
    class="tableLayout"
    matSort
    [dataSource]="dataSource"
  >
    <ng-container matColumnDef="id">
      <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>
      <mat-cell *matCellDef="let row" data-label="ID">
        {{ row.id }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="planId">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Plan ID</mat-header-cell>
      <mat-cell *matCellDef="let row" data-label="Plan ID">
        {{ row.planId }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="code">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Code</mat-header-cell>
      <mat-cell *matCellDef="let row" data-label="Code">
        {{ row.code }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
      <mat-cell *matCellDef="let row" data-label="Name">
        {{ row.name }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="sysProcedureType">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >System Procedure Type</mat-header-cell
      >
      <mat-cell *matCellDef="let row" data-label="System Procedure Type">
        {{ row.sysProcedureType.text }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="sysAquisitionContractType">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >System Aquisition Contract Type</mat-header-cell
      >
      <mat-cell *matCellDef="let row" data-label="System Aquisition Contract Type">
        {{ row.sysAquisitionContractType.text }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="cpvCode">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >CPV Code</mat-header-cell
      >
      <mat-cell *matCellDef="let row" data-label="CPV Code">
        {{ row.cpvCode.text }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="estimatedValueRonVat">
      <mat-header-cell *matHeaderCellDef mat-sort-header>
        Estimated Value RON VAT
      </mat-header-cell>
      <mat-cell *matCellDef="let row" data-label="Estimated Value RON VAT">
        {{ row.estimatedValueRonVat  }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="estimatedValueRon">
      <mat-header-cell *matHeaderCellDef mat-sort-header
        >Estimated Value RON</mat-header-cell
      >
      <mat-cell *matCellDef="let row" data-label="Estimated Value RON">
        {{ row.estimatedValueRon }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="estimatedValueEur">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Estimated Value Eur</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Estimated Value Eur">
          {{ row.estimatedValueEur }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="consumedValueRon">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Consumed Value RON</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Consumed Value RON">
          {{ row.consumedValueRon }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="startEstimatedDateTime">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Start Estimated Date</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Start Estimated Date">
          {{ row.startEstimatedDateTime | date: 'dd-MM-yyyy hh:mm:ss':'UTC' }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="endEstimatedDateTime">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >End Estimated Date</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="End Estimated Date">
          {{ row.endEstimatedDateTime | date: 'dd-MM-yyyy hh:mm:ss':'UTC' }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="personResponsable">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Person Responsable</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Person Responsable">
          {{ row.personResponsable }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="sysFinancingType">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >System Financing Type</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="sysFinancingType">
          {{ row.sysFinancingType.text }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="responsibleUnit">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Responsible Unit</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Responsible Unit">
          {{ row.responsibleUnit }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="uniqueComplexCode">
        <mat-header-cell *matHeaderCellDef mat-sort-header
          >Unique Complex Code</mat-header-cell
        >
        <mat-cell *matCellDef="let row" data-label="Unique Complex Code">
          {{ row.uniqueComplexCode }}
        </mat-cell>
      </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
  <mat-paginator
    #paginator
    [pageSize]="5"
    [pageSizeOptions]="[5, 10, 25, 50, 100]"
    showFirstLastButtons
    [style.display]="this.dataSource.data ? 'block' : 'none'"
  ></mat-paginator>
</div>

<div mat-dialog-actions>
  <div
    *ngIf="data?.confirmationRequired"
    fxLayout="row"
    fxLayout.lt-md="column"
    fxLayoutAlign="space-between center"
    class="w-100"
  >
    <button
      fxFlex="40%"
      fxFlex.lt-md="100%"
      mat-raised-button
      color="warn"
      (click)="onDismiss()"
    >
      No
    </button>
    <button
      fxFlex="40%"
      fxFlex.lt-md="100%"
      mat-raised-button
      color="primary"
      (click)="onConfirm()"
    >
      Yes
    </button>
  </div>
  <div
    *ngIf="!data?.confirmationRequired"
    fxLayout="row"
    fxLayout.lt-md="column"
    fxLayoutAlign="center stretch"
    class="w-100"
  >
    <button
      fxFlex="50%"
      fxFlex.lt-md="100%"
      mat-raised-button
      color="primary"
      (click)="onConfirm()"
    >
      Ok
    </button>
  </div>
</div>
