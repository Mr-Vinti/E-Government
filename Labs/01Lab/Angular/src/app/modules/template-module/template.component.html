<div class="wrapper" fxLayout="row" fxLayoutAlign="center center">
  <mat-card fxFlex="80%" fxFlex.lt-md="100%">
    <mat-card-header>Payment Form</mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" fxLayout="column">
        <div
          fxLayout="row"
          fxLayout.lt-md="column"
          fxFlex="100%"
          fxLayoutGap="10%"
          fxLayoutGap.lt-md="0%"
        >
          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" required />
            <mat-error *ngIf="form.controls.firstName.errors"
              >First Name is required!</mat-error
            >
          </mat-form-field>

          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" required />
            <mat-error *ngIf="form.controls.lastName.errors"
              >Last Name is required!</mat-error
            >
          </mat-form-field>
        </div>

        <div
          fxLayout="row"
          fxLayout.lt-md="column"
          fxFlex="100%"
          fxLayoutGap="10%"
          fxLayoutGap.lt-md="0%"
        >
          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" required />
            <mat-error *ngIf="form.controls.email.errors?.required"
              >Email is required!</mat-error
            >
            <mat-error *ngIf="form.controls.email.errors?.email"
              >Email has invalid format!</mat-error
            >
          </mat-form-field>

          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>Phone Number</mat-label>
            <input matInput formControlName="phoneNumber" required />
            <mat-error *ngIf="form.controls.phoneNumber.errors"
              >Phone Number is required!</mat-error
            >
          </mat-form-field>
        </div>

        <div
          fxLayout="row"
          fxLayout.lt-md="column"
          fxFlex="100%"
          fxLayoutGap="10%"
          fxLayoutGap.lt-md="0%"
        >
          <mat-form-field fxFlex="100%">
            <mat-label>Address</mat-label>
            <input matInput formControlName="address" required />
            <mat-error *ngIf="form.controls.address.errors"
              >Address is required!</mat-error
            >
          </mat-form-field>
        </div>

        <div
          fxLayout="row"
          fxLayout.lt-md="column"
          fxFlex="100%"
          fxLayoutGap="10%"
          fxLayoutGap.lt-md="0%"
        >
          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>Payment</mat-label>
            <input
              matInput
              type="number"
              formControlName="payment"
              required
              (keyup)="calculatePaymentWithVat()"
              (change)="calculatePaymentWithVat()"
            />
            <mat-error *ngIf="form.controls.payment.errors"
              >Payment is required!</mat-error
            >
          </mat-form-field>

          <mat-form-field fxFlex="45%" fxFlex.lt-md="100%">
            <mat-label>Payment with VAT</mat-label>
            <input matInput formControlName="paymentWithVat" required />
            <mat-error *ngIf="form.controls.paymentWithVat.errors"
              >Payment with VAT is required!</mat-error
            >
          </mat-form-field>
        </div>
      </form>
    </mat-card-content>
    <mat-card-actions
      fxLayout="row"
      fxLayout.lt-md="column"
      fxLayoutGap="10%"
      fxLayoutGap.lt-md="1%"
    >
      <button
        mat-raised-button
        fxFlex="45%"
        fxFlex.lt-md="100%"
        color="primary"
        (click)="onSubmit()"
      >
        Submit
      </button>
      <button
        mat-raised-button
        fxFlex="45%"
        fxFlex.lt-md="100%"
        color="warn"
        (click)="onExport()"
      >
        Export
      </button>
    </mat-card-actions>
  </mat-card>
</div>
